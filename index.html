<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ 4D Chess - Four-Dimensional Chess Game</title>
    
    <!-- Styles -->
    <link rel="stylesheet" href="css/main.css">
    
    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/OBJLoader.js"></script>
    <script src="js/tutorial.js"></script>
</head>
<body>
    <!-- Header Bar -->
    <header class="header-bar">
        <button class="menu-btn" id="menu-btn">‚ò∞</button>
        <h1 class="title">üéÆ 4D CHESS</h1>
        <div class="turn-indicator" id="turn-indicator">
            <span class="turn-icon" id="turn-icon">‚ôî</span>
            <span class="turn-text" id="turn-text">White to move</span>
        </div>
        <div class="check-indicator" id="check-indicator" style="display:none;">
            <span class="check-text">‚ö†Ô∏è CHECK!</span>
        </div>
        <button class="settings-btn" id="settings-btn">‚öôÔ∏è</button>
    </header>

    <div class="main-container">
        <!-- Left Panel: Control Panel -->
        <aside class="control-panel">
            <!-- Game Status -->
            <section class="card status-card">
                <h3>üéØ Game Status</h3>
                <ul>
                    <li>Turn: <span id="turn-number">1</span></li>
                    <li>Player: <span id="current-player">White</span></li>
                    <li>Status: <span id="check-status">No check</span></li>
                </ul>
            </section>
            
            <!-- Selected Piece Info -->
            <section class="card piece-card" id="selected-piece-info" style="display:none;">
                <h3>üìç Selected Piece</h3>
                <ul>
                    <li>Type: <span id="piece-type"></span></li>
                    <li>Position: <span id="piece-pos"></span></li>
                    <li>Possible moves: <span id="move-count"></span></li>
                </ul>
            </section>
            
            <!-- Action Buttons -->
            <section class="card actions-card">
                <h3>üé≤ Actions</h3>
                <button class="btn btn-primary btn-large" id="new-game-btn">
                    üîÑ NEW GAME
                </button>
                <div class="btn-group">
                    <button class="btn btn-secondary" id="undo-btn">
                        ‚Ü∂ UNDO
                    </button>
                    <button class="btn btn-secondary" id="redo-btn">
                        ‚Ü∑ REDO
                    </button>
                </div>
                <div class="btn-group">
                    <button class="btn btn-secondary" id="save-btn">
                        üíæ SAVE
                    </button>
                    <button class="btn btn-secondary" id="load-btn">
                        üìÇ LOAD
                    </button>
                </div>
            </section>
            
            <!-- Statistics -->
            <section class="card stats-card">
                <h3>üìä Statistics</h3>
                <div class="stat-row">
                    <span>White pieces:</span>
                    <span id="white-count" class="stat-value">128</span>
                </div>
                <div class="stat-row">
                    <span>Black pieces:</span>
                    <span id="black-count" class="stat-value">128</span>
                </div>
                <div class="stat-row">
                    <span>Time elapsed:</span>
                    <span id="game-time" class="stat-value">00:00</span>
                </div>
            </section>
            
            <!-- Move History -->
            <section class="card history-card">
                <h3>üìú Move History</h3>
                <div class="move-list" id="move-history">
                    <div class="move-item">Game started...</div>
                </div>
            </section>
            
            <!-- Piece Tutorial -->
            <section class="card tutorial-card">
                <h3>üìñ 4D Chess Pieces</h3>
                
                <!-- Navigation -->
                <div class="tutorial-nav">
                    <button class="btn-nav-small" id="tutorial-prev">‚óÑ</button>
                    <span class="tutorial-page-indicator">
                        <span id="tutorial-page-number">1</span> / 6
                    </span>
                    <button class="btn-nav-small" id="tutorial-next">‚ñ∫</button>
                </div>
                
                <!-- Piece Viewer -->
                <div class="tutorial-viewer">
                    <canvas id="tutorial-piece-canvas"></canvas>
                    <div class="tutorial-controls">
                        <span class="tutorial-hint">üí° Drag to rotate</span>
                    </div>
                </div>
                
                <!-- Piece Name -->
                <h4 id="tutorial-piece-name" class="tutorial-piece-name">Rook</h4>
                
                <!-- Movement Description -->
                <div class="tutorial-description" id="tutorial-description">
                    <!-- Content will be populated by JavaScript -->
                </div>
                
                <!-- Movement Examples -->
                <div class="tutorial-examples" id="tutorial-examples">
                    <!-- Examples will be populated by JavaScript -->
                </div>
            </section>
        </aside>

        <!-- Center: Game View -->
        <main class="game-view">
            <canvas id="game-canvas"></canvas>
            
            <!-- Loading Screen -->
            <div class="loading-screen" id="loading-screen">
                <div class="loading-content">
                    <div class="loading-spinner"></div>
                    <h2>Loading 4D Chess...</h2>
                    <p id="loading-text">Initializing hypercube...</p>
                </div>
            </div>
            
            <!-- Game Over Modal -->
            <div class="modal" id="game-over-modal" style="display:none;">
                <div class="modal-content">
                    <h2 id="game-over-title">Checkmate!</h2>
                    <p id="game-over-message"></p>
                    <button class="btn btn-primary" id="new-game-modal-btn">
                        üîÑ New Game
                    </button>
                </div>
            </div>
        </main>

        <!-- Right Panel: Navigation Panel -->
        <aside class="nav-panel">
            <section class="card nav-card">
                <h3>üß≠ 4D Navigation</h3>
                
                <!-- 4D Axes Gizmo -->
                <div class="gizmo-container">
                    <canvas id="axes-gizmo-canvas" width="200" height="200"></canvas>
                    <div class="gizmo-legend">
                        <div class="gizmo-legend-item"><span class="gizmo-color" style="background: #ff0000;"></span>X: Left-Right</div>
                        <div class="gizmo-legend-item"><span class="gizmo-color" style="background: #00ff00;"></span>Y: Height</div>
                        <div class="gizmo-legend-item"><span class="gizmo-color" style="background: #0000ff;"></span>Z: Depth</div>
                        <div class="gizmo-legend-item"><span class="gizmo-color" style="background: #00ffff;"></span>W: 4D Dimension</div>
                    </div>
                </div>
                
                <!-- Opacity control -->
                <div class="axis-control">
                    <label>Board Opacity</label>
                    <input type="range" id="opacity-slider" min="0" max="100" value="80" class="slider">
                    <span class="axis-value" id="opacity-value">80%</span>
                </div>
            </section>
            
            <section class="card view-card">
                <h3>üé® View Options</h3>
                <label class="checkbox-label">
                    <input type="checkbox" id="show-grid" checked>
                    <span>Show Grid</span>
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" id="highlight-moves" checked>
                    <span>Highlight Possible Moves</span>
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" id="show-coords">
                    <span>Show Coordinates</span>
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" id="animate-pieces" checked>
                    <span>Animate Pieces</span>
                </label>
                <label class="checkbox-label">
                    <input type="checkbox" id="show-all-boards">
                    <span>Show All Boards</span>
                </label>
            </section>
            
            <section class="card camera-card">
                <h3>üì∑ Camera</h3>
                <button class="btn btn-secondary btn-block" id="reset-camera">
                    üéØ Reset View
                </button>
                <button class="btn btn-secondary btn-block" id="top-view">
                    ‚¨ÜÔ∏è Top View
                </button>
                <button class="btn btn-secondary btn-block" id="side-view">
                    ‚û°Ô∏è Side View
                </button>
            </section>
            
            <!-- Mouse Controls -->
            <section class="card help-card">
                <h3>üñ±Ô∏è Mouse Controls</h3>
                <div class="shortcut-list">
                    <div class="shortcut-item">
                        <span class="key">Left Click</span>
                        <span>Rotate view</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="key">Right Click</span>
                        <span>Pan (move view)</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="key">Scroll</span>
                        <span>Zoom in/out</span>
                    </div>
                </div>
            </section>
            
            <!-- Keyboard Shortcuts Help -->
            <section class="card help-card">
                <h3>‚å®Ô∏è Keyboard</h3>
                <div class="shortcut-list">
                    <div class="shortcut-item">
                        <span class="key">W/S</span>
                        <span>Change W-axis</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="key">Q/E</span>
                        <span>Change Y-axis</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="key">R</span>
                        <span>Reset camera</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="key">ESC</span>
                        <span>Deselect piece</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="key">Ctrl+Z</span>
                        <span>Undo</span>
                    </div>
                    <div class="shortcut-item">
                        <span class="key">Ctrl+Y</span>
                        <span>Redo</span>
                    </div>
                </div>
            </section>
        </aside>
    </div>

    <!-- Scripts -->
    <!-- Piece classes (must load before GameBoard) -->
    <script src="js/pieces/Piece.js?v=3"></script>
    <script src="js/pieces/Pawn.js?v=3"></script>
    <script src="js/pieces/Rook.js?v=3"></script>
    <script src="js/pieces/Bishop.js?v=3"></script>
    <script src="js/pieces/Knight.js?v=3"></script>
    <script src="js/pieces/Queen.js?v=3"></script>
    <script src="js/pieces/King.js?v=3"></script>
    
    <!-- Game logic -->
    <script src="GameBoard.js?v=5"></script>
    <script src="MoveManager.js?v=2"></script>
    <script src="Models.js?v=5"></script>
    
    <!-- Main application -->
    <script src="js/main.js?v=2"></script>
</body>
</html>

